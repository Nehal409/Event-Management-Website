<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Home</title>

		<link
			rel="stylesheet"
			href="https://unpkg.com/swiper/swiper-bundle.min.css"
		/>
		<script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>

		<!-- font awesome cdn link  -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
		/>

		<!-- custom css file link  -->
		<link rel="stylesheet" href="../css/style.css" />
	</head>
	<body>
		<!-- header section starts  -->

		<header class="header">
			<a href="index.html" class="logo"
				><div class="logos">
					<img src="../images/Untitled design.png" alt="" /></div
			></a>
			<nav class="navbar">
				<a href="#home">home</a>
				<a href="#service">services</a>
				<a href="#about">about</a>
				<a href="#contact">contact</a>
				<a href="login.html">login</a>
			</nav>
			<div class="icons">
				<i class="fas fa-search" id="search-btn"></i>
			</div>

			<form action="" class="search-bar-container">
				<input type="search" id="search-bar" placeholder="search here..." />
				<label for="search-bar" class="fas fa-search"></label>
			</form>

			<div id="menu-bars" class="fas fa-bars"></div>
		</header>

		<!-- header section ends -->

		<!-- home section starts  -->

		<section class="home" id="home">
			<div class="content">
				<h3>Handling the stress so <span> your event is a success</span></h3>
				<a href="#contact" class="btn">contact us</a>
			</div>

			<div class="swiper-container home-slider">
				<div class="swiper-wrapper">
					<div class="swiper-slide">
						<img src="../images/slide-1.jpg" alt="" />
					</div>
					<div class="swiper-slide">
						<img src="../images/slide-2.jpg" alt="" />
					</div>
					<div class="swiper-slide">
						<img src="../images/slide-3.jpg" alt="" />
					</div>
					<div class="swiper-slide">
						<img src="../images/slide-4.jpg" alt="" />
					</div>
					<div class="swiper-slide">
						<img src="../images/slide-5.jpg" alt="" />
					</div>
					<div class="swiper-slide">
						<img src="../images/slide-6.jpg" alt="" />
					</div>
					<div class="swiper-slide">
						<img src="../images/slide-7.webp" alt="" />
					</div>
					<div class="swiper-slide">
						<img src="../images/slide-8.jpg" alt="" />
					</div>
				</div>
			</div>
		</section>

		<!-- home section ends -->

		<!-- service section starts  -->

		<section class="service" id="service">
			<h1 class="heading">our <span>services</span></h1>

			<div class="box-container" id="eventType"></div>
		</section>

		<!-- service section ends -->

		<!-- about section starts  -->

		<section class="about" id="about">
			<h1 class="heading"><span>about</span> us</h1>

			<div class="row">
				<div class="image">
					<img src="../images/event-team.jpg" alt="" />
				</div>

				<div class="content">
					<h3>Be a guest at your own event</h3>
					<p>
						Be it a large milestone event or small, being the best event
						management company we give the same attention to detail to produce
						beautifully executed and memorable results.
					</p>
					<p>
						We work across mediums to produce visually and intellectually
						effective work for our clients.
					</p>
					<a href="#contact" class="btn">contact us</a>
				</div>
			</div>
		</section>

		<!-- contact section starts  -->
		<section class="contact" id="contact">
			<h1 class="heading">contact <span>us</span></h1>

			<div class="row">
				<iframe
					class="map"
					src="https://www.google.com/maps/d/embed?mid=1n_6U1HHEW5Bj8C1NHa1hvnkIwp0&ehbc=2E312F"
					allowfullscreen=""
					loading="lazy"
				></iframe>

				<div class="form">
					<form action="" method="post" id="form">
						<input
							type="text"
							required
							name="name"
							id="name"
							placeholder="full name"
							class="box"
						/>
						<input
							type="email"
							required
							name="email"
							id="email"
							placeholder="email"
							class="box"
						/>
						<input
							type="tel"
							required
							name="phone"
							id="phone"
							placeholder="phone"
							class="box"
						/>
						<input
							type="text"
							required
							name="sub"
							id="sub"
							placeholder="subject"
							class="box"
						/>
						<textarea
							name="message"
							required
							id="message"
							placeholder="message"
							class="box"
							id=""
							cols="30"
							rows="10"
						></textarea>
						<input class="btn" type="submit" value="send message" class="btn" />
					</form>
				</div>
			</div>
		</section>

		<!-- contact section ends -->

		<!-- footer section starts  -->

		<section class="footer">
			<div class="box-container">
				<div class="box">
					<h3>follow us</h3>
					<a href="#"> <i class="fab fa-facebook-f"></i> facebook </a>
					<a href="#"> <i class="fab fa-twitter"></i> twitter </a>
					<a href="#"> <i class="fab fa-instagram"></i> instagram </a>
					<a href="#"> <i class="fab fa-linkedin"></i> linkedin </a>
				</div>

				<div class="box">
					<h3>quick links</h3>
					<a href="#service"> <i class="fas fa-arrow-right"></i> services </a>
					<a href="#about"> <i class="fas fa-arrow-right"></i> about </a>
					<a href="login.html"> <i class="fas fa-arrow-right"></i> login </a>
					<a href="#contact"> <i class="fas fa-arrow-right"></i> contact </a>
				</div>

				<div class="box">
					<h3>contact info</h3>
					<a href="#"> <i class="fas fa-phone"></i> +111-222-333 </a>
					<a href="#">
						<i class="fas fa-envelope"></i> suhailnarejo12@gmail.com
					</a>
					<a href="#">
						<i class="fas fa-envelope"></i> alimurtuza222@gmail.com
					</a>
					<a href="#">
						<i class="fas fa-map-marker-alt"></i> Karachi, Pakistan</a
					>
				</div>
			</div>
		</section>

		<!-- footer section ends -->
		<script>
			function handleBuyClick(id) {
				console.log(id);
				window.localStorage.setItem("eventTypeId", id);
			}
			const form = document.getElementById("form");
			form.addEventListener("submit", async function (e) {
				e.preventDefault();

				const name = document.getElementById("name").value;
				const email = document.getElementById("email").value;
				const phone = document.getElementById("phone").value;
				const subject = document.getElementById("sub").value;
				const message = document.getElementById("message").value;

				try {
					const res = await axios
						.post("http://localhost:3000/contact", {
							name: name,
							email: email,
							phone: phone,
							subject: subject,
							message: message,
						})
						.then(response => {
							console.log(response);
							window.location.reload();
							form.reset();
						});
				} catch (error) {
					console.log(error);
				}
			});

			async function getEventTypes() {
				try {
					await axios
						.get("http://localhost:3000/events/types")
						.then(response => {
							response.data.forEach(element => {
								document.getElementById(
									"eventType",
								).innerHTML += `  <div class="box">
               <a href="vendor.html" onclick = "handleBuyClick('${element.id}')";>
                  <i class="fas fa-drum"></i>
                  <h3>${element.name}</h3>
               </a>
            </div>
           `;
							});
						});
				} catch (error) {
					console.log(error);
				}
			}
			getEventTypes();
		</script>

		<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

		<!-- custom js file link  -->
		<script src="../js/script.js"></script>
	</body>
</html>
